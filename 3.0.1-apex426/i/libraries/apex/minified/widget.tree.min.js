apex.widget&&apex.widget.tree&&apex.debug.warn("Old and new tree implementations cannot be mixed."),apex.widget.tree={},function(tree,util,$){tree.cTreeTypes={"default":{clickable:!0,renameable:!1,deletable:!1,creatable:!0,draggable:!1,copyable:!1,editable:!1,max_children:-1,max_depth:0,valid_children:"none",icon:{image:!1,position:!1}}},tree.init=function(pTreeId,pTypes,pStaticData,pTreeTemplate,pStartNodeId,pTreeAction,pSelectedNodeId){function addNodes(pNodeList){if(pNodeList.length>0){lUnorderedList+="<ul>";for(var i=0;i<pNodeList.length;i++)lUnorderedList+="<li>",lUnorderedList+=pNodeList[i].data.attributes.href?'<a href="'+pNodeList[i].data.attributes.href+'"'+(pNodeList[i].data.attributes.tooltip?' title="'+pNodeList[i].data.attributes.tooltip+'"':"")+">"+pNodeList[i].data.title+"</a>":pNodeList[i].data.title,pNodeList[i].children&&addNodes(pNodeList[i].children),lUnorderedList+="</li>";lUnorderedList+="</ul>"}}if("YES"===$v("pScreenReaderMode")){var lUnorderedList="";addNodes(pStaticData),$("#"+util.escapeCSS(pTreeId),apex.gPageContext$).append(lUnorderedList)}else{var lTree=$("#"+util.escapeCSS(pTreeId),apex.gPageContext$).tree({data:{type:"json",async:!0,opts:{"static":pStaticData,isTreeLoaded:!1,method:"POST",url:"wwv_flow.show"}},ui:{theme_name:pTreeTemplate},types:pTypes,rules:{valid_children:"root",use_max_depth:!0},callback:{},root:{draggable:!1,valid_children:"folder"},folder:{valid_children:"file"},file:{valid_children:"none",max_children:0,max_depth:0}});"S"==pTreeAction?$("#"+util.escapeCSS(pTreeId),apex.gPageContext$).on("click","a[href]",tree.onclick):$("#"+util.escapeCSS(pTreeId),apex.gPageContext$).on("dblclick","a[href]",tree.onclick),$("a[tooltip]",$("#"+util.escapeCSS(pTreeId),apex.gPageContext$)).bind("mouseover",tree.showTooltip),null!==$.tree.reference(lTree)&&$.tree.reference(lTree).open_branch($("#"+util.escapeCSS(pStartNodeId),apex.gPageContext$)),pSelectedNodeId&&null!==$.tree.reference(lTree)&&$.tree.reference(lTree).select_branch($("#"+util.escapeCSS(pSelectedNodeId),apex.gPageContext$))}},tree.onselect=function(pNode,pTree){var lAction,lNode=pTree.get_node(pNode);lAction=$("a",lNode).attr("href"),document.location.href=lAction},tree.onclick=function(){var lAction=$(this).attr("href");lAction&&""!==lAction&&(document.location.href=lAction)},tree.expand_all=function(pTreeId){if("YES"===$v("pScreenReaderMode"));else{var lTree=$("#"+util.escapeCSS(pTreeId),apex.gPageContext$);null!==$.tree.reference(lTree)&&$.tree.reference(lTree).open_all()}},tree.collapse_all=function(pTreeId){if("YES"===$v("pScreenReaderMode"));else{var lTree=$("#"+util.escapeCSS(pTreeId),apex.gPageContext$);null!==$.tree.reference(lTree)&&$.tree.reference(lTree).close_all()}},tree.reset=function(pTreeId,pStartNodeId){if("YES"===$v("pScreenReaderMode"));else{var lTree=$("#"+util.escapeCSS(pTreeId),apex.gPageContext$);null!==$.tree.reference(lTree)&&($.tree.reference(lTree).close_all(),$.tree.reference(lTree).open_branch($("#"+util.escapeCSS(pStartNodeId),apex.gPageContext$)))}},tree.showTooltip=function(pEvent){var lAction=$(pEvent.target).attr("tooltip");lAction&&""!==lAction&&toolTip_enable(pEvent,this,$(this).attr("tooltip"))},tree.hideTooltip=function(){toolTip_disable()}}(apex.widget.tree,apex.util,apex.jQuery);