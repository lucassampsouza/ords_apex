!function(util,server,$){com_oracle_apex_raphael_justgage=function(pRegionId,pOptions){function _init(pRegionId,pOptions){gOptions=pOptions,gGaugeOptions={id:gOptions.regionId,relativeGaugeSize:!0,title:gOptions.title||"",donut:"DONUT"==gOptions.gaugeMode,showMinMax:gOptions.showMinMax,label:gOptions.units||"",hideInnerShadow:!gOptions.showShadow,shadowOpacity:gOptions.shadowOpacity,shadowVerticalOffset:gOptions.shadowOffset,gaugeWidthScale:gOptions.gaugeWidth,levelColors:gOptions.gaugeColors.split(","),levelColorsGradient:!0,gaugeColor:gOptions.gaugeBgColor,textRenderer:function(value){return(gOptions.valuePrefix||"")+value+(gOptions.valueSuffix||"")}},gGauge$=$("#"+util.escapeCSS(gGaugeOptions.id),apex.gPageContext$),gDescription$=$("#"+util.escapeCSS(pRegionId)+" .a-BadgeChart-desc",apex.gPageContext$),gHeading$=$("#"+util.escapeCSS(pRegionId)+" .a-BadgeChart-label",apex.gPageContext$),gRegion$=$("#"+util.escapeCSS(pRegionId),apex.gPageContext$),_render(),gRegion$.on("apexrefresh",_refresh).trigger("apexrefresh")}function _render(){gGauge=new JustGage(gGaugeOptions),gGauge.refresh(0,100,0)}function _draw(pData){if(gData=pData,gGauge.refresh(gData[0].value,gData[0].max,gData[0].min),gOptions.heading&&(gData[0].headingLink?gHeading$.empty().append($(document.createElement("a")).attr("href",gData[0].headingLink).text(gOptions.heading)):gHeading$.text(gOptions.heading)),gOptions.description){var descriptionText=gOptions.description.replace(":MIN:",gData[0].min).replace(":MAX:",gData[0].max).replace(":VALUE:",gData[0].value);gData[0].descriptionLink?gDescription$.empty().append($(document.createElement("a")).attr("href",gData[0].descriptionLink).text(descriptionText)):gDescription$.text(descriptionText)}}function _clear(){}function _debug(){}function _refresh(){server.plugin(gOptions.ajaxIdentifier,{pageItems:gOptions.pageItems},{refreshObject:gRegion$,clear:_clear,success:_draw,error:_debug,loadingIndicator:gGauge$,loadingIndicatorPosition:"append"})}var gGaugeOptions,gOptions,gData,gGauge,gGauge$,gDescription$,gHeading$,gRegion$;_init(pRegionId,pOptions)}}(apex.util,apex.server,apex.jQuery);